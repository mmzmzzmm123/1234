<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
        PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.onethinker.bk.mapper.ResourcePathMapper">

    <resultMap type="ResourcePath" id="ResourcePathResult">
        <result property="id" column="id"/>
        <result property="title" column="title"/>
        <result property="classify" column="classify"/>
        <result property="cover" column="cover"/>
        <result property="url" column="url"/>
        <result property="introduction" column="introduction"/>
        <result property="type" column="type"/>
        <result property="status" column="status"/>
        <result property="remark" column="remark"/>
        <result property="createTime" column="create_time"/>
    </resultMap>

    <sql id="selectResourcePathVo">
        select id,
               title,
               classify,
               cover,
               url,
               introduction,
               type,
               status,
               remark,
               create_time
        from bk_resource_path
    </sql>

    <select id="selectResourcePathList" parameterType="ResourcePath" resultMap="ResourcePathResult">
        <include refid="selectResourcePathVo"/>
        <where>
            <if test="title != null  and title != ''">
                and title = #{title}
            </if>
            <if test="classify != null  and classify != ''">
                and classify = #{classify}
            </if>
            <if test="cover != null  and cover != ''">
                and cover = #{cover}
            </if>
            <if test="url != null  and url != ''">
                and url = #{url}
            </if>
            <if test="introduction != null  and introduction != ''">
                and introduction = #{introduction}
            </if>
            <if test="type != null  and type != ''">
                and type = #{type}
            </if>
            <if test="status != null ">
                and status = #{status}
            </if>
        </where>
    </select>

    <select id="selectResourcePathById" parameterType="Long"
            resultMap="ResourcePathResult">
        <include refid="selectResourcePathVo"/>
        where id = #{id}
    </select>

    <insert id="insertResourcePath" parameterType="ResourcePath" useGeneratedKeys="true"
            keyProperty="id">
        insert into bk_resource_path
        <trim prefix="(" suffix=")" suffixOverrides=",">
            <if test="title != null and title != ''">title,
            </if>
            <if test="classify != null">classify,
            </if>
            <if test="cover != null">cover,
            </if>
            <if test="url != null">url,
            </if>
            <if test="introduction != null">introduction,
            </if>
            <if test="type != null and type != ''">type,
            </if>
            <if test="status != null">status,
            </if>
            <if test="remark != null">remark,
            </if>
            <if test="createTime != null">create_time,
            </if>
        </trim>
        <trim prefix="values (" suffix=")" suffixOverrides=",">
            <if test="title != null and title != ''">#{title},
            </if>
            <if test="classify != null">#{classify},
            </if>
            <if test="cover != null">#{cover},
            </if>
            <if test="url != null">#{url},
            </if>
            <if test="introduction != null">#{introduction},
            </if>
            <if test="type != null and type != ''">#{type},
            </if>
            <if test="status != null">#{status},
            </if>
            <if test="remark != null">#{remark},
            </if>
            <if test="createTime != null">#{createTime},
            </if>
        </trim>
    </insert>

    <update id="updateResourcePath" parameterType="ResourcePath">
        update bk_resource_path
        <trim prefix="SET" suffixOverrides=",">
            <if test="title != null and title != ''">title =
                #{title},
            </if>
            <if test="classify != null">classify =
                #{classify},
            </if>
            <if test="cover != null">cover =
                #{cover},
            </if>
            <if test="url != null">url =
                #{url},
            </if>
            <if test="introduction != null">introduction =
                #{introduction},
            </if>
            <if test="type != null and type != ''">type =
                #{type},
            </if>
            <if test="status != null">status =
                #{status},
            </if>
            <if test="remark != null">remark =
                #{remark},
            </if>
            <if test="createTime != null">create_time =
                #{createTime},
            </if>
        </trim>
        where id = #{id}
    </update>

    <delete id="deleteResourcePathById" parameterType="Long">
        delete
        from bk_resource_path
        where id = #{id}
    </delete>

    <delete id="deleteResourcePathByIds" parameterType="String">
        delete from bk_resource_path where id in
        <foreach item="id" collection="array" open="(" separator="," close=")">
            #{id}
        </foreach>
    </delete>
</mapper>
