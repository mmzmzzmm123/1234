<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
"http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.ruoyi.system.mapper.BusPostOrderMapper">
    
    <resultMap type="BusPostOrder" id="BusPostOrderResult">
        <result property="orderId"    column="order_id"    />
        <result property="merchantId"    column="merchant_id"    />
        <result property="title"    column="title"    />
        <result property="amount"    column="amount"    />
        <result property="validityPeriod"    column="validity_period"    />
        <result property="productType"    column="product_type"    />
        <result property="quantity"    column="quantity"    />
        <result property="closingTime"    column="closing_time"    />
        <result property="securityDeposit"    column="security_deposit"    />
        <result property="shippingParty"    column="shipping_party"    />
        <result property="remarks"    column="remarks"    />
        <result property="tutorialUrl"    column="tutorial_url"    />
        <result property="partialShipment"    column="partial_shipment"    />
        <result property="status"    column="status"    />
        <result property="address"    column="address"    />
        <result property="createdAt"    column="created_at"    />
        <result property="updatedAt"    column="updated_at"    />
        <result property="orderValidityStatus"    column="order_validity_status"    />
        <result property="payType"    column="pay_type"    />
    </resultMap>

    <sql id="selectBusPostOrderVo">
        select order_id, merchant_id, title, amount, validity_period, product_type, quantity, closing_time, security_deposit, shipping_party, remarks, tutorial_url, partial_shipment, status, address, created_at, updated_at, order_validity_status, pay_type from bus_post_order
    </sql>

    <select id="selectBusPostOrderList" parameterType="BusPostOrder" resultMap="BusPostOrderResult">
        <include refid="selectBusPostOrderVo"/>
        <where>  
            <if test="merchantId != null "> and merchant_id = #{merchantId}</if>
            <if test="title != null  and title != ''"> and title = #{title}</if>
            <if test="amount != null "> and amount = #{amount}</if>
            <if test="validityPeriod != null "> and validity_period = #{validityPeriod}</if>
            <if test="productType != null "> and product_type = #{productType}</if>
            <if test="quantity != null "> and quantity = #{quantity}</if>
            <if test="closingTime != null "> and closing_time = #{closingTime}</if>
            <if test="securityDeposit != null "> and security_deposit = #{securityDeposit}</if>
            <if test="shippingParty != null  and shippingParty != ''"> and shipping_party = #{shippingParty}</if>
            <if test="remarks != null  and remarks != ''"> and remarks = #{remarks}</if>
            <if test="tutorialUrl != null  and tutorialUrl != ''"> and tutorial_url = #{tutorialUrl}</if>
            <if test="partialShipment != null "> and partial_shipment = #{partialShipment}</if>
            <if test="status != null "> and status = #{status}</if>
            <if test="address != null  and address != ''"> and address = #{address}</if>
            <if test="createdAt != null "> and created_at = #{createdAt}</if>
            <if test="updatedAt != null "> and updated_at = #{updatedAt}</if>
            <if test="orderValidityStatus != null "> and order_validity_status = #{orderValidityStatus}</if>
            <if test="payType != null "> and pay_type = #{payType}</if>
        </where>
    </select>
    
    <select id="selectBusPostOrderByOrderId" parameterType="Long" resultMap="BusPostOrderResult">
        <include refid="selectBusPostOrderVo"/>
        where order_id = #{orderId}
    </select>

    <insert id="insertBusPostOrder" parameterType="BusPostOrder" useGeneratedKeys="true" keyProperty="orderId">
        insert into bus_post_order
        <trim prefix="(" suffix=")" suffixOverrides=",">
            <if test="merchantId != null">merchant_id,</if>
            <if test="title != null and title != ''">title,</if>
            <if test="amount != null">amount,</if>
            <if test="validityPeriod != null">validity_period,</if>
            <if test="productType != null">product_type,</if>
            <if test="quantity != null">quantity,</if>
            <if test="closingTime != null">closing_time,</if>
            <if test="securityDeposit != null">security_deposit,</if>
            <if test="shippingParty != null and shippingParty != ''">shipping_party,</if>
            <if test="remarks != null">remarks,</if>
            <if test="tutorialUrl != null">tutorial_url,</if>
            <if test="partialShipment != null">partial_shipment,</if>
            <if test="status != null">status,</if>
            <if test="address != null">address,</if>
            <if test="createdAt != null">created_at,</if>
            <if test="updatedAt != null">updated_at,</if>
            <if test="orderValidityStatus != null">order_validity_status,</if>
            <if test="payType != null">pay_type,</if>
         </trim>
        <trim prefix="values (" suffix=")" suffixOverrides=",">
            <if test="merchantId != null">#{merchantId},</if>
            <if test="title != null and title != ''">#{title},</if>
            <if test="amount != null">#{amount},</if>
            <if test="validityPeriod != null">#{validityPeriod},</if>
            <if test="productType != null">#{productType},</if>
            <if test="quantity != null">#{quantity},</if>
            <if test="closingTime != null">#{closingTime},</if>
            <if test="securityDeposit != null">#{securityDeposit},</if>
            <if test="shippingParty != null and shippingParty != ''">#{shippingParty},</if>
            <if test="remarks != null">#{remarks},</if>
            <if test="tutorialUrl != null">#{tutorialUrl},</if>
            <if test="partialShipment != null">#{partialShipment},</if>
            <if test="status != null">#{status},</if>
            <if test="address != null">#{address},</if>
            <if test="createdAt != null">#{createdAt},</if>
            <if test="updatedAt != null">#{updatedAt},</if>
            <if test="orderValidityStatus != null">#{orderValidityStatus},</if>
            <if test="payType != null">#{payType},</if>
         </trim>
    </insert>

    <update id="updateBusPostOrder" parameterType="BusPostOrder">
        update bus_post_order
        <trim prefix="SET" suffixOverrides=",">
            <if test="merchantId != null">merchant_id = #{merchantId},</if>
            <if test="title != null and title != ''">title = #{title},</if>
            <if test="amount != null">amount = #{amount},</if>
            <if test="validityPeriod != null">validity_period = #{validityPeriod},</if>
            <if test="productType != null">product_type = #{productType},</if>
            <if test="quantity != null">quantity = #{quantity},</if>
            <if test="closingTime != null">closing_time = #{closingTime},</if>
            <if test="securityDeposit != null">security_deposit = #{securityDeposit},</if>
            <if test="shippingParty != null and shippingParty != ''">shipping_party = #{shippingParty},</if>
            <if test="remarks != null">remarks = #{remarks},</if>
            <if test="tutorialUrl != null">tutorial_url = #{tutorialUrl},</if>
            <if test="partialShipment != null">partial_shipment = #{partialShipment},</if>
            <if test="status != null">status = #{status},</if>
            <if test="address != null">address = #{address},</if>
            <if test="createdAt != null">created_at = #{createdAt},</if>
            <if test="updatedAt != null">updated_at = #{updatedAt},</if>
            <if test="orderValidityStatus != null">order_validity_status = #{orderValidityStatus},</if>
            <if test="payType != null">pay_type = #{payType},</if>
        </trim>
        where order_id = #{orderId}
    </update>

    <delete id="deleteBusPostOrderByOrderId" parameterType="Long">
        delete from bus_post_order where order_id = #{orderId}
    </delete>

    <delete id="deleteBusPostOrderByOrderIds" parameterType="String">
        delete from bus_post_order where order_id in 
        <foreach item="orderId" collection="array" open="(" separator="," close=")">
            #{orderId}
        </foreach>
    </delete>
</mapper>